(this["webpackJsonptest-task"]=this["webpackJsonptest-task"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},52:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(12),r=n.n(i),a=n(69),d=n(68),o=n(67),l=(n(43),n(73)),u=(n(44),n(8)),s=n(9),j=Object(s.a)("EDIT_COL_MODAL"),b=Object(s.a)("EDIT_TEXT_MODAL"),f=Object(s.a)("EDIT_SELECT_MODAL"),O=Object(s.a)("ACTIVATE_DRAG"),h=n(1),v=Object(u.b)(null,(function(e){return{activateDrag:function(t){return e(O(t))}}}))((function(e){var t=e.activateDrag,n=function(e){return function(n){n.dataTransfer.setData("text",e),t({type:e})}},c=function(){return t({type:null,active:!1})};return Object(h.jsxs)("div",{className:"side-bar",children:[Object(h.jsx)("h3",{children:Object(h.jsx)("strong",{children:"Wigets"})}),Object(h.jsxs)(l.a,{className:"wiget_list_group",children:[Object(h.jsx)(l.a.Item,{children:"Row",onDragStart:n("ROW"),onDragEnd:c,draggable:!0,className:"wiget_list_item"}),Object(h.jsx)(l.a.Item,{children:"Col",onDragStart:n("COL"),onDragEnd:c,draggable:!0,className:"wiget_list_item"}),Object(h.jsx)(l.a.Item,{children:"Text",onDragStart:n("TEXT"),onDragEnd:c,draggable:!0,className:"wiget_list_item"}),Object(h.jsx)(l.a.Item,{children:"Select",onDragStart:n("SELECT"),onDragEnd:c,draggable:!0,className:"wiget_list_item"})]})]})})),p=(n(52),n(32)),m=n(33),x=(n(55),function(e){var t=e.title,n=e.right,c=e.left,i=e.onRemove,r=e.onEdit;return Object(h.jsxs)("div",{style:{right:n,left:c},className:"info_setup",children:[Object(h.jsx)("h5",{className:"info_setup_title",children:t}),r&&Object(h.jsx)("button",{onClick:r,className:"info_setup__settings_btn",children:Object(h.jsx)(p.a,{icon:m.b})}),i&&Object(h.jsx)("button",{onClick:i,className:"info_setup__close_btn",children:Object(h.jsx)(p.a,{icon:m.a})})]})});x.defaultProps={right:15,left:15};var y=x,g=(n(56),n(6)),C=n.n(g),E=(n(57),Object(u.b)((function(e){return{status:e.sideEffect.componentDrag}}))((function(e){var t=e.status,n=e.componentName,c=C()("drag-marker",{active:!!t.type&&t.type===n,"full-active":t.active}),i=C()("drag-marker-wrap",{none:!t.type});return Object(h.jsx)("div",{className:i,children:Object(h.jsx)("div",{className:c})})}))),D=function(e){var t=e.title,n=e.handleAllowDrop,c=e.handleDrop,i=e.dragComponent,r=e.onDragLeave;return Object(h.jsxs)("div",{onDragLeave:r,style:{position:"relative"},onDragOver:n,onDrop:c,className:"drop_marker",children:[Object(h.jsx)("p",{children:t}),Object(h.jsx)(E,{componentName:i})]})},T=n(3),_=n(38),w=(n(58),Object(s.a)("CREATE_ROW")),N=Object(s.a)("DELETE_ROW"),S=Object(s.a)("CREATE_COL"),R=Object(s.a)("DELETE_COL"),L=Object(s.a)("EDIT_COL"),k=Object(s.a)("DELETE_CHILD"),M=Object(s.a)("CREATE_TEXT"),A=Object(s.a)("EDIT_TEXT"),I=Object(s.a)("CREATE_SELECT"),F=Object(s.a)("EDIT_SELECT"),z=Object(u.b)(null,(function(e){return{createSelect:function(t){return e(I(t))},onCreateText:function(t){return e(M(t))},onRemoveCol:function(t){return e(R(t))},showEditCol:function(t){return e(j(t))},activateDrag:function(t){return e(O(t))}}}))((function(e){var t=e.children,n=e.onRemoveCol,c=e.col,i=e.onCreateText,r=e.rid,a=e.showEditCol,d=e.createSelect,l=e.activateDrag,u=Object(_.a)(e,["children","onRemoveCol","col","onCreateText","rid","showEditCol","createSelect","activateDrag"]);return Object(h.jsx)(o.a,Object(T.a)(Object(T.a)({onDragLeave:function(){return l({active:!1})},onDragOver:function(e){e.preventDefault(),l({active:!0})},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.getData("text");"TEXT"!==t?"SELECT"!==t?alert("You can't put in the col"):d({rid:r,cid:c.id}):i({rid:r,cid:c.id})}},u),{},{className:"form_col",children:Object(h.jsxs)("div",{className:"form_col_cont",children:[Object(h.jsx)(y,{onEdit:function(){a({c:c,rid:r})},title:"Col",onRemove:function(){n({rid:r,cid:c.id})}}),t,Object(h.jsx)(E,{componentName:"TEXT"}),Object(h.jsx)(E,{componentName:"SELECT"})]})}))})),H=(n(59),n(75)),W=Object(u.b)(null,(function(e){return{onRemove:function(t){return e(k(t))},onShowEditTextField:function(t){return e(b(t))},onEditText:function(t){return e(A(t))}}}))((function(e){var t=e.name,n=e.rid,c=e.cid,i=e.text,r=e.onRemove,a=e.onShowEditTextField,d=e.onEditText;return Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)(y,{left:0,right:0,title:t,onRemove:function(){return r({cid:c,rid:n,id:i.id})},onEdit:function(){return a({cid:c,rid:n,c:i})}}),Object(h.jsx)(H.a,{type:"text",value:i.value,onChange:function(e){return d({rid:n,cid:c,tid:i.id,key:"value",value:e.target.value})}})]})})),B=Object(u.b)(null,(function(e){return{onRemove:function(t){return e(k(t))},onShowEditSelect:function(t){return e(f(t))},onEditText:function(t){return e(A(t))}}}))((function(e){var t=e.name,n=e.rid,c=e.cid,i=e.select,r=e.onRemove,a=e.onShowEditSelect,d=e.onEditText;return Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)(y,{left:0,right:0,title:t,onRemove:function(){return r({cid:c,rid:n,id:i.id})},onEdit:function(){return a({cid:c,rid:n,c:i})}}),Object(h.jsxs)(H.a,{size:"sm",value:i.selected,onChange:function(e){return d({rid:n,cid:c,tid:i.id,key:"selected",value:e.target.value})},as:"select",custom:!0,children:[Object(h.jsx)("option",{value:"",defaultValue:"Not chosen",disabled:!0,hidden:!0,children:"Not chosen"}),i.values.map((function(e){return Object(h.jsx)("option",{children:e},e)}))]})]})})),X=Object(u.b)(null,(function(e){return{onDropCol:function(t){return e(S(t))},activateDrag:function(t){return e(O(t))}}}))((function(e){var t,n=e.children,c=e.onRemove,i=e.row,r=e.onDropCol,a=e.activateDrag;return Object(h.jsxs)(d.a,{className:"form_row",children:[Object(h.jsx)(y,{title:"Row",onRemove:function(){return c(i.id)}}),i.children.map((function(e){return Object(h.jsx)(z,{rid:i.id,sm:e.size,col:e,children:e.children.map((function(t){return"TEXT"===t.type?Object(h.jsx)(W,{rid:i.id,cid:e.id,text:t,name:t.name},t.id):Object(h.jsx)(B,{rid:i.id,cid:e.id,select:t,name:t.name},t.id)}))},e.id)})),n||Object(h.jsx)(D,{title:"Drop Column Here",handleAllowDrop:function(e){e.preventDefault(),a({active:!0})},handleDrop:(t=i.id,function(e){e.preventDefault(),"COL"===e.dataTransfer.getData("text")?r(t):alert("You can't drop in the row")}),dragComponent:"COL",onDragLeave:function(e){e.preventDefault(),a({active:!1})}})]})})),Y=n(17),J=n.n(Y),V=(n(62),Object(u.b)((function(e){return{rows:e.form.children}}),(function(e){return{onDropRow:function(t){return e(w(t))},onRemove:function(t){return e(N(t))},activateDrag:function(t){return e(O(t))}}}))((function(e){var t=e.rows,n=e.onDropRow,c=e.onRemove,i=e.activateDrag;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:Object(h.jsx)("strong",{children:"Form"})}),Object(h.jsxs)(a.a,{children:[t.map((function(e){return Object(h.jsx)(X,{row:e,onRemove:c},e.id)})),Object(h.jsx)(d.a,{children:Object(h.jsx)(D,{title:"Drop Widget Here",handleAllowDrop:function(e){e.preventDefault(),i({active:!0})},handleDrop:function(e){e.preventDefault(),"ROW"===e.dataTransfer.getData("text")?n({id:J()(),children:[],type:"ROW"}):alert("You can't drop it in the form")},dragComponent:"ROW",onDragLeave:function(e){e.preventDefault(),i({active:!1})}})})]})]})}))),G=(n(63),Object(u.b)((function(e){return{rows:e.form.children}}))((function(e){var t=e.rows.reduce((function(e,t){return e.push(t.children.map((function(e){return e.children}))),e}),[]);return Object(h.jsxs)("div",{className:"data_view",children:[Object(h.jsx)("h3",{children:Object(h.jsx)("strong",{children:"Data"})}),t.map((function(e){return e.map((function(e){return e.map((function(e){return Object(h.jsxs)("div",{className:"data_view_cont",children:[Object(h.jsx)("div",{className:"data_view_key",children:e.name}),Object(h.jsx)("div",{className:"data_view_value",children:e.selected||e.value||"---"})]},e.id)}))}))}))]})}))),P=n(16),q=n(72),K=n(70),Q=n(74),U=Object(u.b)((function(e){return{col:e.sideEffect.editColModal}}),(function(e){return{hideModal:function(){return e(j(null))},onEditCol:function(t){return e(L(t))}}}))((function(e){var t=e.col,n=e.hideModal,i=e.onEditCol,r=Object(c.useState)("".concat(t?t.c.size:3)),a=Object(P.a)(r,2),d=a[0],o=a[1];return Object(c.useEffect)((function(){o("".concat(t?t.c.size:3))}),[!!t]),Object(h.jsxs)(q.a,{show:!!t,onHide:n,children:[Object(h.jsx)(q.a.Header,{closeButton:!0,children:Object(h.jsxs)(q.a.Title,{children:["Edit column ",null===t||void 0===t?void 0:t.c.id]})}),Object(h.jsxs)(q.a.Body,{children:[Object(h.jsxs)("label",{htmlFor:"edit-column",children:["Current size: ",null===t||void 0===t?void 0:t.c.size]}),Object(h.jsx)(K.a,{className:"mb-3",children:Object(h.jsx)(H.a,{type:"number",value:d,onChange:function(e){return Number(e.target.value)<=12&&o(e.target.value)},placeholder:"".concat(null===t||void 0===t?void 0:t.c.size)})})]}),Object(h.jsxs)(q.a.Footer,{children:[Object(h.jsx)(Q.a,{variant:"secondary",onClick:n,children:"Close"}),Object(h.jsx)(Q.a,{variant:"primary",onClick:function(){Number(d)>12?alert("Not more 12"):(i({cid:t.c.id,size:d,rid:t.rid}),n())},children:"Save Changes"})]})]})})),Z=Object(u.b)((function(e){return{text:e.sideEffect.editTextModal}}),(function(e){return{hideModal:function(){return e(b(null))},onEditText:function(t){return e(A(t))}}}))((function(e){var t=e.text,n=e.hideModal,i=e.onEditText,r=Object(c.useState)((null===t||void 0===t?void 0:t.c.name)||""),a=Object(P.a)(r,2),d=a[0],o=a[1];return Object(h.jsxs)(q.a,{show:!!t,onHide:n,children:[Object(h.jsx)(q.a.Header,{closeButton:!0,children:Object(h.jsxs)(q.a.Title,{children:["Edit text ",null===t||void 0===t?void 0:t.c.id]})}),Object(h.jsxs)(q.a.Body,{children:[Object(h.jsxs)("label",{htmlFor:"edit-column",children:["Current label: ",null===t||void 0===t?void 0:t.c.name]}),Object(h.jsx)(K.a,{className:"mb-3",children:Object(h.jsx)(H.a,{value:d,onChange:function(e){return o(e.target.value)},placeholder:null===t||void 0===t?void 0:t.c.name})})]}),Object(h.jsxs)(q.a.Footer,{children:[Object(h.jsx)(Q.a,{variant:"secondary",onClick:n,children:"Close"}),Object(h.jsx)(Q.a,{variant:"primary",onClick:function(){i({rid:t.rid,cid:t.cid,tid:t.c.id,key:"name",value:d}),n()},children:"Save Changes"})]})]})})),$=n(18),ee=n(71),te=Object(u.b)((function(e){return{select:e.sideEffect.editSelectModal}}),(function(e){return{hideModal:function(){return e(f(null))},onEditSelect:function(t){return e(F(t))}}}))((function(e){var t,n,i,r=e.hideModal,a=e.select,d=e.onEditSelect,o=Object(c.useState)((null===a||void 0===a||null===(t=a.c)||void 0===t?void 0:t.values)||[]),u=Object(P.a)(o,2),s=u[0],j=u[1],b=Object(c.useState)(""),f=Object(P.a)(b,2),O=f[0],v=f[1],p=Object(c.useState)(""),m=Object(P.a)(p,2),x=m[0],y=m[1],g=function(e){return function(){return j(s.filter((function(t){return t!==e})))}};return Object(c.useEffect)((function(){var e;j((null===a||void 0===a||null===(e=a.c)||void 0===e?void 0:e.values)||[])}),[a]),Object(h.jsxs)(q.a,{show:!!a,onHide:r,children:[Object(h.jsx)(q.a.Header,{closeButton:!0,children:Object(h.jsxs)(q.a.Title,{children:["Select ",null===a||void 0===a||null===(n=a.c)||void 0===n?void 0:n.id]})}),Object(h.jsxs)(q.a.Body,{children:[Object(h.jsx)("label",{htmlFor:"select_name",children:"Name"}),Object(h.jsx)(ee.a,{placeholder:(null===a||void 0===a||null===(i=a.c)||void 0===i?void 0:i.name)||"",id:"select_name",onChange:function(e){return y(e.target.value)},style:{width:"100%"},as:"input"}),Object(h.jsx)("label",{htmlFor:"select_options",children:"Options"}),Object(h.jsx)(l.a,{children:s.map((function(e){return Object(h.jsxs)(l.a.Item,{style:{display:"flex"},children:[e,Object(h.jsx)(Q.a,{variant:"secondary",style:{marginLeft:"auto"},onClick:g(e),children:"Delete"})]},e)}))}),Object(h.jsx)(ee.a,{id:"select_options",onChange:function(e){return v(e.target.value)},style:{width:"100%",marginTop:"15px"},as:"input"}),Object(h.jsx)(Q.a,{variant:"primary",onClick:function(){!s.find((function(e){return e===O}))&&O&&j([].concat(Object($.a)(s),[O]))},children:"Add"})]}),Object(h.jsxs)(q.a.Footer,{children:[Object(h.jsx)(Q.a,{variant:"secondary",onClick:r,children:"Close"}),Object(h.jsx)(Q.a,{variant:"primary",onClick:function(){d({key:"value",rid:a.rid,cid:a.cid,id:a.c.id,value:s}),x&&d({key:"name",rid:a.rid,cid:a.cid,id:a.c.id,value:x}),r()},children:"Save Changes"})]})]})}));var ne=function(){return Object(h.jsxs)(a.a,{className:"main-container",children:[Object(h.jsxs)(d.a,{children:[Object(h.jsx)(o.a,{sm:2,children:Object(h.jsx)(v,{})}),Object(h.jsx)(o.a,{sm:7,className:"form-container",children:Object(h.jsx)(V,{})}),Object(h.jsx)(o.a,{sm:3,children:Object(h.jsx)(G,{})})]}),Object(h.jsx)(U,{}),Object(h.jsx)(Z,{}),Object(h.jsx)(te,{})]})},ce=(n(64),n(10)),ie=n(20),re={id:J()(),type:"FORM",children:[]},ae=Object(s.b)(re,(function(e){e.addCase(w,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{children:[].concat(Object($.a)(e.children),[t.payload])})})),e.addCase(N,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{children:e.children.filter((function(e){return e.id!==t.payload}))})})),e.addCase(S,(function(e,t){var n=e.children.find((function(e){return e.id===t.payload}));if(!n)return e;var c=Object(T.a)(Object(T.a)({},n),{},{children:[].concat(Object($.a)(n.children),[{id:J()(),children:[],type:"COL",size:3}])});return Object(T.a)(Object(T.a)({},e),{},{children:e.children.map((function(e){return e.id===t.payload?c:e}))})})),e.addCase(R,(function(e,t){var n=e.children.find((function(e){return e.id===t.payload.rid}));if(!n)return e;var c=Object(T.a)(Object(T.a)({},n),{},{children:n.children.filter((function(e){return e.id!==t.payload.cid}))});return Object(T.a)(Object(T.a)({},e),{},{children:e.children.map((function(e){return e.id===t.payload.rid?c:e}))})})),e.addCase(M,(function(e,t){var n=e.children.find((function(e){return e.id===t.payload.rid})),c=n&&n.children.find((function(e){return e.id===t.payload.cid}));if(!c||!n)return e;var i=Object(T.a)(Object(T.a)({},c),{},{children:[].concat(Object($.a)(c.children),[{id:J()(),name:"Text",type:"TEXT",value:""}])}),r=Object(T.a)(Object(T.a)({},n),{},{children:n.children.map((function(e){return e.id===t.payload.cid?i:e}))});return Object(T.a)(Object(T.a)({},e),{},{children:e.children.map((function(e){return e.id===t.payload.rid?r:e}))})})),e.addCase(k,(function(e,t){var n=e.children.find((function(e){return e.id===t.payload.rid})),c=n&&n.children.find((function(e){return e.id===t.payload.cid}));if(!c||!n)return e;var i=Object(T.a)(Object(T.a)({},c),{},{children:c.children.filter((function(e){return e.id!==t.payload.id}))}),r=Object(T.a)(Object(T.a)({},n),{},{children:n.children.map((function(e){return e.id===t.payload.cid?i:e}))});return Object(T.a)(Object(T.a)({},e),{},{children:e.children.map((function(e){return e.id===t.payload.rid?r:e}))})})),e.addCase(L,(function(e,t){var n=e.children.find((function(e){return e.id===t.payload.rid})),c=n&&n.children.find((function(e){return e.id===t.payload.cid}));if(!c||!n)return e;var i=Object(T.a)(Object(T.a)({},c),{},{size:Number(t.payload.size)}),r=Object(T.a)(Object(T.a)({},n),{},{children:n.children.map((function(e){return e.id===t.payload.cid?i:e}))});return Object(T.a)(Object(T.a)({},e),{},{children:e.children.map((function(e){return e.id===t.payload.rid?r:e}))})})),e.addCase(A,(function(e,t){var n=e.children.find((function(e){return e.id===t.payload.rid})),c=n&&n.children.find((function(e){return e.id===t.payload.cid})),i=c&&c.children.find((function(e){return e.id===t.payload.tid}));if(!c||!n||!i)return e;var r=Object(T.a)(Object(T.a)({},i),{},Object(ie.a)({},t.payload.key,t.payload.value)),a=Object(T.a)(Object(T.a)({},c),{},{children:c.children.map((function(e){return e.id===t.payload.tid?r:e}))}),d=Object(T.a)(Object(T.a)({},n),{},{children:n.children.map((function(e){return e.id===t.payload.cid?a:e}))});return Object(T.a)(Object(T.a)({},e),{},{children:e.children.map((function(e){return e.id===t.payload.rid?d:e}))})})),e.addCase(I,(function(e,t){var n=e.children.find((function(e){return e.id===t.payload.rid})),c=n&&n.children.find((function(e){return e.id===t.payload.cid}));if(!c||!n)return e;var i=Object(T.a)(Object(T.a)({},c),{},{children:[].concat(Object($.a)(c.children),[{id:J()(),name:"Select",type:"SELECT",values:["Audi","BMW","Mercedes"],selected:""}])}),r=Object(T.a)(Object(T.a)({},n),{},{children:n.children.map((function(e){return e.id===t.payload.cid?i:e}))});return Object(T.a)(Object(T.a)({},e),{},{children:e.children.map((function(e){return e.id===t.payload.rid?r:e}))})})),e.addCase(F,(function(e,t){var n=e.children.find((function(e){return e.id===t.payload.rid})),c=n&&n.children.find((function(e){return e.id===t.payload.cid})),i=c&&c.children.find((function(e){return e.id===t.payload.id}));if(!c||!n||!i)return e;var r=Object(T.a)(Object(T.a)({},i),{},Object(ie.a)({},t.payload.key,t.payload.value)),a=Object(T.a)(Object(T.a)({},c),{},{children:c.children.map((function(e){return e.id===t.payload.id?r:e}))}),d=Object(T.a)(Object(T.a)({},n),{},{children:n.children.map((function(e){return e.id===t.payload.cid?a:e}))});return Object(T.a)(Object(T.a)({},e),{},{children:e.children.map((function(e){return e.id===t.payload.rid?d:e}))})}))})),de=Object(s.b)({editColModal:null,editTextModal:null,editSelectModal:null,componentDrag:{type:null,active:!1}},(function(e){e.addCase(j,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{editColModal:t.payload})})),e.addCase(b,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{editTextModal:t.payload})})),e.addCase(f,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{editSelectModal:t.payload})})),e.addCase(O,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{componentDrag:Object(T.a)(Object(T.a)({},e.componentDrag),t.payload)})}))})),oe=Object(ce.c)({form:ae,sideEffect:de}),le=Object(ce.e)(oe);r.a.render(Object(h.jsx)(u.a,{store:le,children:Object(h.jsx)(ne,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.98a794cd.chunk.js.map